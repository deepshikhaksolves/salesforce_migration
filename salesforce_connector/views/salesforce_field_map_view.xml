<?xml version="1.0" encoding="UTF-8"?>
<odoo>
    <data>
        <record model="ir.ui.view" id="sf_model_map_form_view">
            <field name="name">sf.model.mapping.form</field>
            <field name="model">sf.model.mapping</field>
            <field name="arch" type="xml">
                <form string="SalesForce Field Map">
                    <sheet>
                        <group>
                            <group>
                                <field name="o_model"/>
                            </group>
                            <group>
                                <field name="sf_model"/>
                            </group>
                        </group>
                        <label for="sf_columns_map" string="Columns to be Mapped"/>
                        <field name="sf_columns_map">
                            <tree editable="bottom">
                                <field name="sf_field"/>
                                <field name="type"/>
                                <field name="sf_relational_model"
                                       attrs="{'required': [('type', 'in', ['many2one', 'one2many', 'many2many'])]}"/>
                                <field name="odoo_field"/>
                            </tree>
                        </field>
                    </sheet>
                </form>
            </field>
        </record>

        <record model="ir.ui.view" id="sf_model_map_tree_view">
            <field name="name">sf.model.mapping.tree</field>
            <field name="model">sf.model.mapping</field>
            <field name="arch" type="xml">
                <tree string="Salesforce Sync History">
                    <field name="o_model"/>
                    <field name="sf_model"/>
                    <!--                    <field name="odoo_field"/>-->
                    <!--                    <field name="sf_field"/>-->
                </tree>
            </field>
        </record>

        <record model="ir.ui.view" id="sf_stage_map_tree_view">
            <field name="name">sf stages</field>
            <field name="model">sf.stages.mapping</field>
            <field name="arch" type="xml">
                <tree string="Salesforce Sync History">
                    <field name="sf_stage_name"/>
                    <field name="sf_crm_stage" widget="Many2one"/>
                    <field name="mark"/>
                    <field name="tags"/>
                    <!--                    <field name="odoo_field"/>-->
                    <!--                    <field name="sf_field"/>-->
                </tree>
            </field>
        </record>

        <record model="ir.ui.view" id="sf_country_map_tree_view">
            <field name="name">Sf country mapping</field>
            <field name="model">sf.country.map</field>
            <field name="arch" type="xml">
                <tree string="Salesforce Country Mapping">
                    <field name="sf_country_name"/>
                    <field name="sf_our_matched_country" widget="Many2one"/>
                    <field name="sf_res_partner_ids" string="Total Records"/>
                </tree>
            </field>
        </record>

        <record model="ir.ui.view" id="sf_quote_type_map_tree_view">
            <field name="name">Sf Quote Type</field>
            <field name="model">sf.quote.type.map</field>
            <field name="arch" type="xml">
                <tree string="Salesforce Quote Type  Mapping">
                    <field name="quote_type_name"/>
<!--                    <field name="quote_type_ids"/>-->
                </tree>
            </field>
        </record>

        <record model="ir.ui.view" id="sf_tasks_type_map_tree_view">
            <field name="name">Salesforce Task Type</field>
            <field name="model">salesforce.task.type.mapping</field>
            <field name="arch" type="xml">
                <tree string="Salesforce task to activity Type Mapping" editable="bottom">
                    <field name="task_name" required="1"/>
                    <field name="mapped_task_name" required="1"/>
                </tree>
            </field>
        </record>

        <record model="ir.ui.view" id="sf_country_map_form_view">
            <field name="name">Sf country mapping</field>
            <field name="model">sf.country.map</field>
            <field name="arch" type="xml">
                <form>
                    <sheet>
                        <group>
                            <group>
                                <field name="sf_country_name"/>
                            </group>
                            <group>
                                <field name="sf_our_matched_country"/>
                            </group>
                        </group>

                        <group>
                            <field name="sf_res_partner_ids" groups="base.group_no_one" widget="many2many_tags" create="false"/>
                        </group>
                    </sheet>
                </form>
            </field>
        </record>

        <record model="ir.ui.view" id="sf_state_map_tree_view">
            <field name="name">Sf State mapping</field>
            <field name="model">sf.state.map</field>
            <field name="arch" type="xml">
                <tree string="Salesforce State Mapping">
                    <field name="sf_state_name"/>
                    <field name="sf_our_matched_state" widget="Many2one"/>
                    <field name="sf_res_partner_ids" string="Total Records"/>
                </tree>
            </field>
        </record>

        <record model="ir.ui.view" id="sf_state_map_form_view">
            <field name="name">Sf State mapping</field>
            <field name="model">sf.state.map</field>
            <field name="arch" type="xml">
                <form>
                    <sheet>
                        <group>
                            <group>
                                <field name="sf_state_name"/>
                            </group>
                            <group>
                                <field name="sf_our_matched_state"/>
                            </group>
                        </group>

                        <group>
                            <field name="sf_res_partner_ids" groups="base.group_no_one" widget="many2many_tags" create="false"/>
                        </group>
                    </sheet>
                </form>
            </field>
        </record>

        <record model="ir.ui.view" id="sf_quote_type_map_form_view">
            <field name="name">Sf Quote Type</field>
            <field name="model">sf.quote.type.map</field>
            <field name="arch" type="xml">
                <form>
                    <sheet>
                        <group>
                            <field name="quote_type_name"/>
<!--                            <field name="quote_type_ids" widget="many2many_tags" groups="base.group_no_one"/>-->
                        </group>
                    </sheet>
                </form>
            </field>
        </record>

        <record model="ir.actions.act_window" id="sf_model_map_action">
            <field name="name">Salesforce Fields Mapping</field>
            <field name="res_model">sf.model.mapping</field>
            <field name="view_mode">tree,form</field>
            <field name="context">{'group_by': 'o_model'}</field>
            <field name="help" type="html">
                <p class="o_view_nocontent_smiling_face">
                    This will show the field mapping used to import the salesforce data to Odoo.
                </p>
            </field>
        </record>

        <record model="ir.actions.act_window" id="sf_task_type_map_action">
            <field name="name">Salesforce Task Type Mapping</field>
            <field name="res_model">salesforce.task.type.mapping</field>
            <field name="view_mode">tree</field>
            <field name="help" type="html">
                <p class="o_view_nocontent_smiling_face">
                    This will show the salesforce task types to activity type mapping
                </p>
            </field>
        </record>

        <record model="ir.actions.act_window" id="sf_task_type_action">
            <field name="name">Salesforce Task Types</field>
            <field name="res_model">salesforce.task.types</field>
            <field name="view_mode">tree,form</field>
            <field name="help" type="html">
                <p class="o_view_nocontent_smiling_face">
                    This will show the salesforce task types
                </p>
            </field>
        </record>

        <record model="ir.actions.act_window" id="sf_stages_crm_map_action">
            <field name="name">Salesforce Stages Mapping</field>
            <field name="res_model">sf.stages.mapping</field>
            <field name="view_mode">tree,form</field>
            <field name="help" type="html">
                <p class="o_view_nocontent_smiling_face">
                    This will show the Salesforce Stages field mapping mapped to CRM stages.
                </p>
            </field>
        </record>

        <record model="ir.actions.act_window" id="sf_country_map_action">
            <field name="name">Salesforce Country Mapping</field>
            <field name="res_model">sf.country.map</field>
            <field name="view_mode">tree,form</field>
            <field name="help" type="html">
                <p class="o_view_nocontent_smiling_face">
                    This will show the mapping of country
                </p>
            </field>
        </record>

        <record model="ir.actions.act_window" id="sf_state_map_action">
            <field name="name">Salesforce State Mapping</field>
            <field name="res_model">sf.state.map</field>
            <field name="view_mode">tree,form</field>
            <field name="help" type="html">
                <p class="o_view_nocontent_smiling_face">
                    This will show the mapping of states
                </p>
            </field>
        </record>

        <record model="ir.actions.act_window" id="sf_quote_type_c_map_action">
            <field name="name">Salesforce Quote_type__c Mapping</field>
            <field name="res_model">sf.quote.type.map</field>
            <field name="view_mode">tree,form</field>
            <field name="help" type="html">
                <p class="o_view_nocontent_smiling_face">
                    This will show the mapping of Quote_type__c
                </p>
            </field>
        </record>

        <record model="ir.ui.view" id="external_id_map_form_view">
            <field name="name">External id map processing</field>
            <field name="model">field.name.map.external.id</field>
            <field name="arch" type="xml">
                <form>
                    <sheet>
                        <group col="3">
                            <field name="field_name"/>
                            <field name="related_model"/>
                            <field name="domain"/>
                            <field name="import_model_name"/>
                        </group>
                    </sheet>
                </form>
            </field>
        </record>

        <record model="ir.ui.view" id="external_id_map_tree_view">
            <field name="name">External id map processing</field>
            <field name="model">field.name.map.external.id</field>
            <field name="arch" type="xml">
                <tree editable="bottom">
                    <field name="field_name"/>
                    <field name="related_model"/>
                    <field name="domain"/>
                    <field name="import_model_name"/>
                </tree>
            </field>
        </record>


        <record model="ir.ui.view" id="process_sage_data_form">
            <field name="name">Process Sage Data</field>
            <field name="model">process.sage.data.csv</field>
            <field name="arch" type="xml">
                <form>
                    <sheet>
                        <group>
                            <field name="csv_file" widget="many2many_binary"/>
                            <field name="processed_file" widget="many2many_binary"/>
                        </group>
                        <group string="Choose csv model name">
                            <field name="import_model_name" nolabel="1"/>
                        </group>
                        <group string="Search domains and field mappings">
                            <field name="external_id_map" nolabel="1">
                                <tree editable="bottom">
                                    <field name="field_name"/>
                                    <field name="related_model"/>
                                    <field name="domain"/>
                                    <field name="import_model_name"/>
                                </tree>
                            </field>
                        </group>

                        <div class="d-flex mt-1">
                            <button name="start_csv_processing" type="object"
                                    context="{'method': 'process_supplier'}"
                                    string="Process CSV" class="oe_highlight mx-1"/>
                        </div>
                    </sheet>
                </form>
            </field>
        </record>

        <record model="ir.actions.act_window" id="action_sage_data_csv">
            <field name="name">Process Sage csv</field>
            <field name="res_model">process.sage.data.csv</field>
            <field name="res_id" ref="sage_csv_process"/>
            <field name="view_mode">form</field>
            <field name="target">current</field>
        </record>

        <record model="ir.actions.act_window" id="action_sage_data_csv_mapping">
            <field name="name">Sage csv Search Domain</field>
            <field name="res_model">field.name.map.external.id</field>
            <field name="view_mode">tree</field>
            <field name="target">current</field>
        </record>

        <menuitem id="sf_configuration_menu" name="Configuration"
                  parent="main_salesforce_menu" sequence="7"/>

        <menuitem id="sf_model_map_menu" name="Mapping" sequence="1"
                  parent="sf_configuration_menu"/>

        <menuitem id="sf_model_field_map_menu" name="Field Mapping" sequence="1"
                  parent="sf_model_map_menu" action="sf_model_map_action"/>

        <menuitem id="sf_stages_map_crm" name="Stage Mapping" sequence="2"
                  parent="sf_model_map_menu" action="sf_stages_crm_map_action"/>

        <menuitem id="sf_country_map" name="Country Mapping" sequence="3"
                  parent="sf_model_map_menu" action="sf_country_map_action"/>

        <menuitem id="sf_state_map" name="State Mapping" sequence="4"
                  parent="sf_model_map_menu" action="sf_state_map_action"/>

        <menuitem id="sf_quote_type_c_map" name="Quote_type__C Mapping" sequence="5"
                  parent="sf_model_map_menu" action="sf_quote_type_c_map_action"/>

        <menuitem id="sf_task_type_menu_item" name="Salesforce Task Types" sequence="6"
                  parent="sf_model_map_menu" action="sf_task_type_action"/>

        <menuitem id="sf_task_type_mapping_menu_item" name="Salesforce Task Types Mapping" sequence="7"
                  parent="sf_model_map_menu" action="sf_task_type_map_action"/>

        <menuitem id="sage_csv_data_processing_main_menu" name="Sage Data" sequence="2"
                  parent="sf_configuration_menu"/>

        <menuitem id="sage_csv_data_processing" name="Process Sage Data CSVs" sequence="1"
                  parent="sage_csv_data_processing_main_menu" action="action_sage_data_csv"/>

        <menuitem id="sage_csv_data_search_domain" name="Sage Data Search Domains" sequence="2"
                  parent="sage_csv_data_processing_main_menu" action="action_sage_data_csv_mapping"/>
    </data>
</odoo>